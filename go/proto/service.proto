syntax = "proto3";

package fogistration.v1;

option go_package = "github.com/LuukBlankenstijn/fogistration/internal/shared/pb";

// Main service with bidirectional streaming
service FogistrationService {
  rpc Stream(ClientMessage) returns (stream ServerMessage);
}

// Client-to-Server messages
message ClientMessage {}

// Server-to-Client messages
message ServerMessage {
  oneof message {
    Update update = 1;
  }
}

message Update {
  ContestUrl contestUrl = 1;
  Wallpaper wallpaper = 2;
}
message Wallpaper {
  uint64 size = 1;
  bytes data = 2;
}
message ContestUrl { string url = 1; }
